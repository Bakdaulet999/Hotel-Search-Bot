Telegram Bot для поиска отелей
Краткое описание
Этот Telegram бот помогает пользователям находить отели, взаимодействуя с ними через серию вопросов, собирая необходимые данные и предоставляя результаты поиска на основе введенной информации.

Структура проекта

Корневые файлы

.env.template: Шаблон для переменных окружения. После клонирования репозитория удалите суффикс .template и введите ваш токен и API ключ.
loader.py: Обеспечивает базовую инфраструктуру бота, включая логирование, управление состояниями пользователей и другие важные функции.
requirements.txt: Содержит список зависимостей, необходимых для работы Telegram бота.
debug.log: Файл логов, в котором хранится история работы бота.
main.py: Запускает бота и создает базу данных.

Папки и файлы

1) config_data
config.py: Вставьте сюда ваш API ключ и токен. Также определите набор команд для бота.

2) database
models.py: Управление операциями базы данных с использованием библиотеки Peewee ORM.
get_history.py: Получение истории пользователя из базы данных по его ID.
tg_bot.db: Файл базы данных для хранения данных пользователей и другой информации, связанной с ботом.

3) handlers:

default_handlers:

start.py: Обработчик приветственного сообщения.
help.py: Выводит список доступных команд.
echo.py: Повторяет любое сообщение, не соответствующее команде.


custom_handlers (Все пользовательские обработчики)

__init__.py: Управляет порядком выполнения обработчиков.
command_handler.py: Определяет команды, создает объекты данных и получает местоположение пользователя.
callback_data.py: Управляет выбором пользователя через inline-кнопки.
adults.py: Обрабатывает количество взрослых для поиска.
children.py: Обрабатывает количество детей и их возраст.
entry_date.py: Проверяет правильность введенных данных о возрасте детей.
exit_date.py: Обрабатывает дату въезда.
check_hotels_amount.py: Обрабатывает дату выезда.
quantity_hotels.py: Указывает количество отелей, которые нужно найти.
photos_amount.py: Обрабатывает количество запрашиваемых фотографий. Если фотографии не нужны, результаты предоставляются сразу.
send_info_hotel.py: Отправляет результаты поиска и сохраняет данные в базе данных.
result.py: Отправляет результаты поиска с фотографиями.
min_price_bestdeal.py: Указывает минимальную цену для поиска лучших предложений.
max_price_bestdeal.py: Указывает максимальную цену для поиска лучших предложений.
distance_bestdeal.py: Указывает расстояние от центра города и отправляет результаты поиска отелей.
history.py: Обрабатывает операции с базой данных, связанные с историей поиска пользователя.

4) keyboards

keyboards.py: Реализует inline-кнопки для взаимодействия с пользователем.

5) states

contact_information.py: Управляет состояниями для ведения диалога с пользователем.

6) utils

get_city_user.py: Парсит данные города из RapidAPI на основе ввода пользователя.
hotels_params.py: Передает данные, введенные пользователем, парсит информацию об отелях, включая ID, название и цену за ночь.
hotel_information.py: Получает информацию об отеле, такую как ссылки, фотографии и местоположение.
set_bot_commands.py: Определяет команды для бота.


Пример работы команды /high
Шаг 1: Ввод города

![photo_2024-08-16_01-33-46.jpg](..%2F..%2F..%2FDesktop%2Fphoto_2024-08-16_01-33-46.jpg)

Шаг 2: Выбор местоположения

![photo_2024-08-16_01-33-35.jpg](..%2F..%2F..%2FDesktop%2Fphoto_2024-08-16_01-33-35.jpg)

Шаг 3: Ввод данных

![photo_2024-08-16_01-33-57.jpg](..%2F..%2F..%2FDesktop%2Fphoto_2024-08-16_01-33-57.jpg)

Шаг 4: Получение отелей

![photo_2024-08-16_01-33-52.jpg](..%2F..%2F..%2FDesktop%2Fphoto_2024-08-16_01-33-52.jpg)